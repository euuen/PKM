# Warn UNEXPECTED idcode 0x2ba01477 Error expected 1 of 1 0x1ba01477

我真的是服了这个sb openocd，要不是就你这个烧录软件还稍微好用一点我真的不想用你这个软件。这个报错是什么意思呢？就是说，预期是你的设备ID是0x1ba01477，但是实际上是0x2ba01477。

这个0x2ba01477 ID，一般是国内的兼容stm芯片的ID，但是这个sb openocd就是要检查这个ID，诶呀呀，说是什么防止不小心烧录错错误的型号的芯片了，诶呀呀，这个sb的设计理念就保存下里了是吧。我就想说这个是个sb设计！！你以为有人会像你一样sb，tmd，这都能烧录错，就几个命令，大家也知道单片机要钱的，输入命令肯定是经过深思熟虑的？？？还有，你也太不考虑国内芯片的感受了把？？？？tmd，瞧不起国产芯片？？？？？

好了好了，现在开始说一下解决方法。

## 解决方法

打开这个文件夹`/usr/share/openocd/scripts/target/`，找`stm32f1x.cfg`
这个文件，修改一下内容。

```text
# set _CPUTAPID 0x1ba01477
set _CPUTAPID 0
```
把那行注释掉，改成ID为0，这样的意思就是不检查ID。

md，折腾了一下午，我还以为我芯片有问题呢，结果是这byd openocd高的