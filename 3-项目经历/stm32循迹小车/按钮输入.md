# 按钮输入

## 代码

```cpp
void GPIO_Init(){
    // PA15
    GPIO_InitStruct.Pin=GPIO_PIN_15;
    GPIO_InitStruct.Mode=GPIO_MODE_IT_FALLING;
    GPIO_InitStruct.Pull=GPIO_PULLUP;
    GPIO_InitStruct.Speed=GPIO_SPEED_FREQ_LOW;

    HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
	HAL_NVIC_SetPriority(EXTI15_10_IRQn, 1, 0); // 设置优先级 
	HAL_NVIC_EnableIRQ(EXTI15_10_IRQn); // 使能中断线
}

// 实现中断服务函数
void EXTI15_10_IRQHandler(void) {
	HAL_GPIO_EXTI_IRQHandler(GPIO_PIN_15);
}

// 实现中断回调函数
void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin) {
	if(GPIO_Pin == GPIO_PIN_15) {
		// 这里添加中断处理代码
		// 例如：翻转LED、设置标志位等
	}
}
```

## 参考资料

[[外部中断EXTI]]