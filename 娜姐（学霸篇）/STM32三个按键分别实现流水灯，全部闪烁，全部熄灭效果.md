1. 利用宏定义表示引脚和时间周期，方便修改
>[!NOTE|aside-l] 这里使用了自定义delay，所以关于时间的宏定义参数非常大
> [[Pasted image 20251113202723.png]]

2. 自定义函数提高代码的可读性和简洁性
>[!NOTE] 注意函数使用前要先声明
>[[Pasted image 20251113203856.png]]
>
>[[Pasted image 20251113204333.png]]
3. 宏定义一个“可中断的延时函数”，在等待的同时检测按键输入，防止阻塞。
 >[!NOTE] return退出函数，这个宏要在函数内部使用
[[Pasted image 20251113201105.png]]
4. 消除按键的机械抖动，按键按下时改变状态。
>[!NOTE] 放在while死循环中重复执行
>[[Pasted image 20251113204551.png]]
5. 状态机编程，按键按下的时候改变状态，而不是执行函数，这样函数就可以在那个状态一直循环执行，而不是只执行一遍就停止了。
>[!NOTE|aside-r] 注意初始化
[[Pasted image 20251113201756.png]]
6. 系统时钟
>[!NOTE] 利用CubeMX自动设置好了
>[[Pasted image 20251113205038.png]]
>
[[Pasted image 20251113205629.png]]
