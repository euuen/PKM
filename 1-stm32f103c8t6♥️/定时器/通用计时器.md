# 通用计时器

stm32中有三个通用计时器，TIM2～4。

位于低速的APB1总线上(APB1)
16 位向上、向下、向上/向下(中心对齐)计数模式，自动装载计数器（TIMx_CNT）。
16 位可编程(可以实时修改)预分频器(TIMx_PSC)，计数器时钟频率的分频系数 为 1～65535 之间的任意数值。
4 个独立通道（TIMx_CH1~4），这些通道可以用来作为： 
        ① 输入捕获 

        ② 输出比较

        ③ PWM 生成(边缘或中间对齐模式) 

        ④ 单脉冲模式输出 

可使用外部信号（TIMx_ETR）控制定时器和定时器互连（可以用 1 个定时器控制另外一个定时器）的同步电路。
如下事件发生时产生中断/DMA（6个独立的IRQ/DMA请求生成器）： 
        ①更新：计数器向上溢出/向下溢出，计数器初始化(通过软件或者内部/外部触发) 

        ②触发事件(计数器启动、停止、初始化或者由内部/外部触发计数) 

        ③输入捕获 

        ④输出比较 

        ⑤支持针对定位的增量(正交)编码器和霍尔传感器电路 

        ⑥触发输入作为外部时钟或者按周期的电流管理

STM32 的通用定时器可以被用于：测量输入信号的脉冲长度(输入捕获)或者产生输出波形(输出比较和 PWM)等。   
使用定时器预分频器和 RCC 时钟控制器预分频器，脉冲长度和波形周期可以在几个微秒到几个毫秒间调整。STM32 的每个通用定时器都是完全独立的，没有互相共享的任何资源。

## 参考资料
1. 【STM32-定时器详解】 https://blog.csdn.net/qq_44016222/article/details/123507270?fromshare=blogdetail&sharetype=blogdetail&sharerId=123507270&sharerefer=PC&sharesource=qq_72984050&sharefrom=from_link