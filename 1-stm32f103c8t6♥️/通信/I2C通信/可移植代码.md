```c
void I2C1_Msp_Init(){
	__HAL_RCC_GPIOB_CLK_ENABLE();
	__HAL_RCC_I2C1_CLK_ENABLE();
	
	// 配置PB6(SCL)和PB7(SDA)
    GPIO_InitStruct.Pin = GPIO_PIN_6|GPIO_PIN_7;
    GPIO_InitStruct.Mode = GPIO_MODE_AF_OD;       // 复用开漏输出
    GPIO_InitStruct.Pull = GPIO_PULLUP;            // 内部上拉
    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH; // 高速模式
    HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
}

I2C_HandleTypeDef I2C1_Init(int clockSpeed){
	I2C1_Msp_Init();
	
	I2C_HandleTypeDef hi2c;
    hi2c.Instance = I2C1;
    hi2c.Init.ClockSpeed = clockSpeed;       // 标准模式400kHz或者100kHz
    hi2c.Init.DutyCycle = I2C_DUTYCYCLE_2; // 标准模式固定使用2:1占空比
    hi2c.Init.OwnAddress1 = 0;           // 主模式无需设置自身地址
    hi2c.Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
    hi2c.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
    hi2c.Init.OwnAddress2 = 0;
    hi2c.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
    hi2c.Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
    return hi2c;
}

void I2C2_Msp_Init(){
	__HAL_RCC_GPIOB_CLK_ENABLE();
	__HAL_RCC_I2C1_CLK_ENABLE();
	
	// 配置PB10(SCL)和PB11(SDA)
    GPIO_InitStruct.Pin = GPIO_PIN_10|GPIO_PIN_11;
    GPIO_InitStruct.Mode = GPIO_MODE_AF_OD;       // 复用开漏输出
    GPIO_InitStruct.Pull = GPIO_PULLUP;            // 内部上拉
    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH; // 高速模式
    HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
}

I2C_HandleTypeDef I2C2_Init(int clockSpeed){
	I2C1_Msp_Init();
	
	I2C_HandleTypeDef hi2c;
    hi2c.Instance = I2C2;
    hi2c.Init.ClockSpeed = clockSpeed;       // 标准模式400kHz或者100kHz
    hi2c.Init.DutyCycle = I2C_DUTYCYCLE_2; // 标准模式固定使用2:1占空比
    hi2c.Init.OwnAddress1 = 0;           // 主模式无需设置自身地址
    hi2c.Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
    hi2c.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
    hi2c.Init.OwnAddress2 = 0;
    hi2c.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
    hi2c.Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
    return hi2c;
}

void I2C_print(I2C_HandleTypeDef *hi2c, int address, const char *data){
	HAL_I2C_Master_Transmit(hi2c, address, (uint8_t*) data, strlen(data), HAL_MAX_DELAY);	
}

void I2C_println(I2C_HandleTypeDef *hi2c, int address, const char *data){
	HAL_I2C_Master_Transmit(hi2c, address, (uint8_t*) data, strlen(data), HAL_MAX_DELAY);
	HAL_I2C_Master_Transmit(hi2c, address, (uint8_t*) "\n", 1, HAL_MAX_DELAY);
}

void I2C_sendData(I2C_HandleTypeDef *hi2c, int address, uint8_t *data, size_t size){
	HAL_I2C_Master_Transmit(hi2c, address, data, size, HAL_MAX_DELAY);
}

void I2C_recvData(I2C_HandleTypeDef *hi2c, int address, uint8_t *data, size_t size){
	HAL_I2C_Master_Receive(hi2c, address, data, size, HAL_MAX_DELAY);
}

char I2C_readChar(I2C_HandleTypeDef *hi2c, int address){
	uint8_t data;
	HAL_I2C_Master_Receive(hi2c, address, &data, 1, HAL_MAX_DELAY);
	return (char) data;
}

void I2c_readString(I2C_HandleTypeDef *hi2c, int address, char *data, size_t size){
	HAL_I2C_Master_Receive(hi2c, address, &data, size, HAL_MAX_DELAY);
}
```